<?xml version="1.0" encoding="ASCII"?>
<intermediate:IntermediateOperationModel xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:intermediate="http://www.fhdo.de/lemma/operation/intermediate" sourceModelUri="file://../../policy-management-backend/policyManagementBackend.operation">
  <imports name="policyManagementBackendServices" importUri="file://../../../../../../runtime-EclipseApplication/LEMMA models/intermediate/service models/policyManagementBackend.xmi" importTypeName="MICROSERVICES"/>
  <imports name="containerTechnology" importUri="file://../../technology/docker.technology" importTypeName="TECHNOLOGY"/>
  <imports name="protocolTechnology" importUri="file://../../technology/javaWithSpring.technology" importTypeName="TECHNOLOGY"/>
  <imports name="eureka" importUri="file://../../../../../../runtime-EclipseApplication/LEMMA models/intermediate/operation models/eurekaServer.xmi" importTypeName="OPERATION_NODES"/>
  <containers name="PolicyManagementContainer" imports="//@imports.1 //@imports.2" operationEnvironment="//@containers.0/@technologyReference/@technology/@environment" qualifiedDeploymentTechnologyName="docker.Docker">
    <deployedServices name="com.lakesidemutual.policymanagement.PolicyManagementBackend" qualifiedName="com.lakesidemutual.policymanagement.PolicyManagementBackend" imported="true" import="//@imports.0" effectivelyImplemented="true" microserviceType="FUNCTIONAL" visibility="ARCHITECTURE"/>
    <specifications operationMicroserviceReference="//@containers.0/@deployedServices.0">
      <endpoints communicationType="SYNCHRONOUS" protocol="rest" dataFormat="application/json" technology="//@containers.0/@specifications.0/@endpoints.0/@endpointTechnology">
        <addresses>http://localhost:8090</addresses>
        <endpointTechnology name="javaWithSpring" import="//@imports.2"/>
      </endpoints>
      <propertyValues value="&#xA;            # syntax=docker/dockerfile:experimental&#xA;            FROM maven:3.6.1-jdk-8-alpine AS build&#xA;            ARG BASE=/usr/src/app&#xA;            COPY pom.xml ${BASE}/&#xA;            COPY src ${BASE}/src&#xA;            RUN --mount=type=cache,target=/root/.m2 mvn -f ${BASE}/pom.xml install -DskipTests&#xA;&#xA;            FROM openjdk:8-jdk-alpine&#xA;            COPY --from=build /usr/src/app/target/dependency/BOOT-INF/lib/* /app/lib/&#xA;            COPY --from=build /usr/src/app/target/dependency/META-INF /app/META-INF&#xA;            COPY --from=build /usr/src/app/target/dependency/BOOT-INF/classes /app&#xA;&#xA;            EXPOSE 8090&#xA;            EXPOSE 61613&#xA;            EXPOSE 61616&#xA;            ENTRYPOINT [&quot;java&quot;,&quot;-cp&quot;,&quot;app:app/lib/*&quot;,&quot;com.lakesidemutual.policymanagement.PolicyManagementApplication&quot;]&#xA;            " technologySpecificProperty="//@containers.0/@technologyReference/@technology/@properties.4"/>
      <propertyValues value="&#xA;            policy-management-backend:&#xA;                build: policy-management-backend&#xA;                image: lakesidemutual/policy-management-backend&#xA;                depends_on:&#xA;                  - customer-core&#xA;                environment:&#xA;                  - &quot;EUREKA_CLIENT_SERVICEURL_DEFAULTZONE=http://eureka-server:8761/eureka&quot;&#xA;                  - &quot;SPRING_PROFILES_ACTIVE=eureka&quot;&#xA;                ports:&#xA;                  - &quot;8090:8090&quot;&#xA;                  - &quot;61613:61613&quot;&#xA;                  - &quot;61616:61616&quot;&#xA;                volumes:&#xA;                  - &quot;maven_repo:/root/.m2&quot;&#xA;            " technologySpecificProperty="//@containers.0/@technologyReference/@technology/@properties.3"/>
      <propertyValues value="Authorization" technologySpecificProperty="//@containers.0/@technologyReference/@technology/@properties.0"/>
      <propertyValues value="999ab497f8ec1052" technologySpecificProperty="//@containers.0/@technologyReference/@technology/@properties.1"/>
    </specifications>
    <dependsOnNodes imported="true" name="ServiceDiscovery" qualifiedTechnologyName="Eureka.Eureka" import="//@imports.3"/>
    <technologyReference import="//@imports.1">
      <technology name="Docker">
        <environment environmentName="maven:3.6.1-jdk-8-alpine" default="true"/>
        <properties name="apiKeyHeader" type="string">
          <featureNames>SINGLE_VALUED</featureNames>
        </properties>
        <properties name="apiKeyValidKey" type="string"/>
        <properties name="apiKeyValue" type="string">
          <featureNames>SINGLE_VALUED</featureNames>
        </properties>
        <properties name="ComposePart" type="string">
          <featureNames>SINGLE_VALUED</featureNames>
        </properties>
        <properties name="Dockerfile" type="string">
          <featureNames>MANDATORY</featureNames>
          <featureNames>SINGLE_VALUED</featureNames>
        </properties>
        <properties name="rateLimitPerMinute" type="int"/>
      </technology>
    </technologyReference>
  </containers>
</intermediate:IntermediateOperationModel>
